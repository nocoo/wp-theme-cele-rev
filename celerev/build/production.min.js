/*!
 * FitVids 1.1
 *
 * Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
 * Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
 * Released under the WTFPL license - http://sam.zoy.org/wtfpl/
 *
 */(function(q){q.fn.fitVids=function(X){var Y={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var w=document.head||document.getElementsByTagName("head")[0],N=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",K=document.createElement("div");K.innerHTML='<p>x</p><style id="fit-vids-style">'+N+"</style>",w.appendChild(K.childNodes[1])}if(X)q.extend(Y,X);return this.each(function(){var T=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];if(Y.customSelector)T.push(Y.customSelector);var Z=".fitvidsignore";if(Y.ignore)Z=Z+", "+Y.ignore;var _=q(this).find(T.join(","));_=_.not("object object"),_=_.not(Z),_.each(function(){var J=q(this);if(J.parents(Z).length>0)return;if(this.tagName.toLowerCase()==="embed"&&J.parent("object").length||J.parent(".fluid-width-video-wrapper").length)return;if(!J.css("height")&&!J.css("width")&&(isNaN(J.attr("height"))||isNaN(J.attr("width"))))J.attr("height",9),J.attr("width",16);var z=this.tagName.toLowerCase()==="object"||J.attr("height")&&!isNaN(parseInt(J.attr("height"),10))?parseInt(J.attr("height"),10):J.height(),U=!isNaN(parseInt(J.attr("width"),10))?parseInt(J.attr("width"),10):J.width(),D=z/U;if(!J.attr("name")){var V="fitvid"+q.fn.fitVids._count;J.attr("name",V),q.fn.fitVids._count++}J.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",D*100+"%"),J.removeAttr("height").removeAttr("width")})})},q.fn.fitVids._count=0})(window.jQuery||window.Zepto);jQuery(document).ready(function(q){var X=q("body"),Y=q("#main"),w=q("#overflow-container"),N=q("#max-width"),K=q("#header-image"),T=q("#toggle-navigation"),Z=q("#menu-primary-container"),_=q("#menu-primary-items"),J=q(".toggle-dropdown"),z=q("#main-sidebar"),U=q("#sidebar-primary-container"),D=q("#sidebar-inner"),V=0;if(X.hasClass("admin-bar"))V=32;var E=24,S=0,x=!1;H(),B(),W(),v(),C(),L(),T.on("click",P),J.on("click",y),q(window).on("resize",function(){v(),W(),C(),B()}),q(document.body).on("post-load",function(){v()}),q(".post-content").fitVids({customSelector:'iframe[src*="dailymotion.com"], iframe[src*="slideshare.net"], iframe[src*="animoto.com"], iframe[src*="blip.tv"], iframe[src*="funnyordie.com"], iframe[src*="hulu.com"], iframe[src*="ted.com"], iframe[src*="wordpress.tv"]'});function W(){if(window.innerWidth>899){if(D.outerHeight(!0)<window.innerHeight&&K.length==0)z.addClass("fixed"),C();else if(x==!1)q(window).on("scroll resize",j),x=!0}else x=!1}function P(){if(Z.hasClass("open"))Z.removeClass("open"),q(this).removeClass("open"),U.removeClass("open"),q(this).children("span").text(ct_cele_objectL10n.openMenu),q(this).attr("aria-expanded","false");else Z.addClass("open"),q(this).addClass("open"),U.addClass("open"),q(this).children("span").text(ct_cele_objectL10n.closeMenu),q(this).attr("aria-expanded","true")}function y(){var G=q(this).parent(),Q=q(this).siblings("ul"),O=G.parent();if(G.hasClass("open"))G.removeClass("open"),q(this).children("span").text(ct_cele_objectL10n.openMenu),q(this).attr("aria-expanded","false"),Q.css("max-height","0"),Q.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(R){B(),W()}),L(G,"close");else{G.addClass("open"),q(this).children("span").text(ct_cele_objectL10n.closeMenu),q(this).attr("aria-expanded","true");var F=0;if(Q.children("li").each(function(){F=F+q(this).height()}),Q.css("max-height",F),O.hasClass("sub-menu"))O.css("max-height",parseInt(O.css("max-height"))+F+"px");O.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(R){B(),W()}),L(G,"open")}}function H(){var G=0;_.find("ul").each(function(){q(this).children("li").each(function(){q(this).css("transition-delay","0."+G+"s"),G++}),G=0});var Q=q(".current-menu-ancestor");Q.addClass("open"),Q.children("ul").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(O){B(),W()})}function j(){if(window.innerWidth<900)return;var G=q(window).scrollTop()+window.innerHeight,Q=D.offset().top+D.outerHeight(!0),O=!1,F=q(this).scrollTop(),R=!1;if(X.hasClass("rtl"))R=!0;function k(A,f){if(A&&f)z.css("right",N.offset().left);else if(A)z.css("right","");else if(f)z.css("left",N.offset().left);else z.css("left","")}if(F<S)O=!0;if(S=F,O==!0&&z.hasClass("fixed-bottom"))z.css("top",z.offset().top-E+"px"),k(R,!1),z.addClass("down-page"),z.removeClass("fixed-bottom");else if(O==!0&&z.hasClass("down-page")&&z.offset().top-V>=q(window).scrollTop())z.removeClass("down-page"),z.addClass("fixed-top"),z.css("top",""),k(R,!0);else if(z.hasClass("fixed-top")&&q(window).scrollTop()<=parseInt(w.offset().top))z.removeClass("fixed-top"),k(R,!1);else if((z.hasClass("fixed-top")||z.hasClass("fixed"))&&O==!1)z.css("top",z.offset().top-E+"px"),k(R,!1),z.removeClass("fixed-top"),z.removeClass("fixed"),z.addClass("down-page");else if(G>=Q&&O==!1&&q(window).scrollTop()>=E){if(z.addClass("fixed-bottom"),D.outerHeight(!0)>=window.innerHeight)z.css("top","");else z.css("top",-24);k(R,!0),z.removeClass("down-page")}}function C(){if(window.innerWidth>=1100)E=24;else if(window.innerWidth>=1000)E=12;else if(window.innerWidth>=890)E=0;if(q("#wpadminbar").length>0){if(E+=32,z.hasClass("fixed"))z.css("top","32px")}if(K.length>0)E+=K.outerHeight(!0);if(z.hasClass("fixed"))z.css("left",N.offset().left)}function B(){var G=D.outerHeight(!0)+z.offset().top;if(G<window.innerHeight)Y.css("min-height",window.innerHeight);else Y.css("min-height",G)}function v(){if(!("object-fit"in document.body.style))q(".featured-image").each(function(){if(!q(this).parent().parent(".entry").hasClass("ratio-natural")){var G=q(this).children("img").add(q(this).children("a").children("img"));if(G.hasClass("no-object-fit"))return;if(G.addClass("no-object-fit"),G.outerWidth()<q(this).outerWidth())G.css({width:"100%","min-width":"100%","max-width":"100%",height:"auto","min-height":"100%","max-height":"none"});if(G.outerHeight()<q(this).outerHeight())G.css({height:"100%","min-height":"100%","max-height":"100%",width:"auto","min-width":"100%","max-width":"none"})}})}function L(G,Q){var O=0;if(Q=="close")O=-1;if(G)G.children("ul").children("li").children("a, button").attr("tabindex",O);else _.find("ul").each(function(){q(this).children("li").children().attr("tabindex",-1)})}if(q("#scroll-to-top").length!==0)q(window).on("scroll",function(){if(q(this).scrollTop()>=200)q("#scroll-to-top").addClass("visible");else q("#scroll-to-top").removeClass("visible")}),q("#scroll-to-top").click(function(G){q("body,html").animate({scrollTop:0},600),q(this).blur()})});window.addEventListener("hashchange",function(q){var X=document.getElementById(location.hash.substring(1));if(X){if(!/^(?:a|select|input|button|textarea)$/i.test(X.tagName))X.tabIndex=-1;X.focus()}},!1);
